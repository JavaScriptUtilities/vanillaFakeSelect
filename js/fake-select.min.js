var vanillaFakeSelect=function(a,b){"use strict";var c=this;return c.defaultSettings={coverText:"Select a value",coverClass:"",enableScrollIntoView:!1,fakeOptionTemplate:function(a){return a.innerHTML}},c.el=a,c.wrapper=!1,c.cover=!1,c.list=!1,c.listItems=[],c.isExpanded=!1,c.userInteracted=!1,c.letter="",c.autocomplete="",c.autocompleteTimer=!1,c.init=function(a){c.getSettings(a),c.setElements(),c.setEvents()},c.setElements=function(){c.el.setAttribute("tabindex","-1"),c.setElWrapper(),c.setElCover(),c.setElList(),c.el.parentNode.appendChild(c.wrapper),c.wrapper.appendChild(c.el)},c.setElWrapper=function(){c.wrapper=document.createElement("div"),c.wrapper.setAttribute("role","combobox"),c.wrapper.className="fakeselect-wrapper "+c.settings.coverClass,c.setVisibility(!1)},c.setElCover=function(){c.cover=document.createElement("button"),c.cover.className="fakeselect-cover",c.setCoverValue(!0),c.wrapper.appendChild(c.cover)},c.setElList=function(){c.list=document.createElement("ul"),c.list.className="fakeselect-list",c.list.setAttribute("role","listbox");for(var a=0,b=c.el.options.length;a<b;a++)c.listItems[a]=document.createElement("li"),c.listItems[a].setAttribute("data-i",a),c.listItems[a].setAttribute("role","option"),c.el.options[a].disabled&&c.listItems[a].setAttribute("data-disabled",1),c.listItems[a].innerHTML=c.settings.fakeOptionTemplate(c.el.options[a]),c.list.appendChild(c.listItems[a]);c.wrapper.appendChild(c.list)},c.setEvents=function(){c.setCurrentValue(0,!1);for(var a=0,b=c.listItems.length;a<b;a++)1!=c.listItems[a].getAttribute("data-disabled")&&c.listItems[a].addEventListener("click",c.setCurrentValueEvent);c.cover.addEventListener("click",function(a){a.preventDefault(),c.setVisibility()},1),c.el.addEventListener("change",c.setCoverValue,1),c.el.addEventListener("initcover",c.setCoverValue,1),window.addEventListener("click",c.clickOutside,1),window.addEventListener("keydown",c.keyboardEvents,1)},c.keyboardEvents=function(a){27==a.keyCode&&(c.clearAutocomplete(),c.setVisibility(!1)),c.isExpanded&&(9==a.keyCode&&c.setVisibility(!1),38==a.keyCode&&(a.preventDefault(),c.setActiveListItem("less")),40==a.keyCode&&(a.preventDefault(),c.setActiveListItem("plus")),13==a.keyCode&&(a.preventDefault(),c.setCurrentValue(c.tmpValue,!0),c.setVisibility(!1))),!c.isExpanded&&c.isFocused()&&(38!=a.keyCode&&40!=a.keyCode||(a.preventDefault(),c.setVisibility(!0))),c.isFocused()&&(c.letter=String.fromCharCode(event.keyCode),/[a-zA-Z0-9-_ ]/.test(c.letter)&&(clearTimeout(c.autocompleteTimer),c.autocomplete+=c.letter.toLowerCase(),c.setActiveAutocompleteMatch(c.autocomplete),c.autocompleteTimer=setTimeout(c.clearAutocomplete,1e3)))},c.setActiveAutocompleteMatch=function(a){a=a||"";var b,d,e=a.length,f=c.el.options.length;for(b=0;b<f;b++)if(d=c.el.options[b].innerHTML.toLowerCase(),!c.el.options[b].disabled&&d.substring(0,e)==a){c.setCurrentValue(b);break}},c.clearAutocomplete=function(){clearTimeout(c.autocompleteTimer),c.letter="",c.autocomplete=""},c.isFocused=function(){return document.activeElement==c.cover},c.clickOutside=function(a){c.wrapper.contains(a.target)||c.setVisibility(!1)},c.setCurrentValueEvent=function(){c.setCurrentValue(parseInt(this.getAttribute("data-i"),10))},c.setCurrentValue=function(a,b){if(b="boolean"!=typeof b||b,c.el.selectedIndex=a,c.setVisibility(!1),b){var d=document.createEvent("HTMLEvents");d.initEvent("change",!0,!1),c.el.dispatchEvent(d)}c.setActiveListItem(a)},c.setCoverValue=function(a){var d,e=b.coverText;if(!c.cover)return!1;if("boolean"!=typeof a&&(a=!1),a)for(var f=0,g=c.el.options.length;f<g;f++)d=c.el.options[f].getAttribute("selected"),"string"==typeof d&&(e=c.el.options[f].innerHTML);else"number"==typeof c.el.selectedIndex&&(e=c.el.options[c.el.selectedIndex].innerHTML);c.cover.innerHTML=e},c.setVisibility=function(a){"boolean"!=typeof a&&(a=!c.isExpanded),c.isExpanded=a,c.wrapper.setAttribute("aria-expanded",c.isExpanded),c.tmpValue=c.el.selectedIndex,a===!0&&(c.userInteracted=!0),a===!1&&c.userInteracted&&c.setCoverValue()},c.setActiveListItem=function(a){var d=c.listItems.length,e=a;if("plus"==a&&(a=c.tmpValue+1),"less"==a&&(a=c.tmpValue-1),"number"!=typeof a&&(a=c.tmpValue),a=Math.max(0,a),a=Math.min(d-1,a),c.el.options[a].disabled)return"plus"==e&&a<d&&c.setActiveListItem(a+1),"less"==e&&a>0&&c.setActiveListItem(a-1),!1;c.tmpValue=a;for(var f=0;f<d;f++)c.listItems[f].setAttribute("data-current",0);c.listItems[a].setAttribute("data-current",1),b.enableScrollIntoView&&c.listItems[a].scrollIntoView&&c.listItems[a].scrollIntoView()},c.destroyCalls=function(){var a=c.wrapper.parentNode;c.el.removeAttribute("tabindex"),a.appendChild(c.el),c.el.removeEventListener("change",c.setCoverValue),c.el.removeEventListener("initcover",c.initCoverValue),window.removeEventListener("click",c.clickOutside),window.removeEventListener("keydown",c.keyboardEvents),a.removeChild(c.wrapper)},c.init(b),c};vanillaFakeSelect.prototype.getSettings=function(a){var b;"object"!=typeof a&&(a={}),function(){"loadElement"in a&&a.loadElement.getAttribute("data-settings")&&(b=JSON.parse(a.loadElement.getAttribute("data-settings")),"object"==typeof b&&(b.el=a.loadElement,a=b))}(),this.settings={};for(var c in this.defaultSettings)this.settings[c]=this.defaultSettings[c];for(var d in a)this.settings[d]=a[d]};