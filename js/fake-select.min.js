var vanillaFakeSelect=function(a,b){"use strict";var c=this;return c.defaultSettings={autocompleteInsideTerm:!1,coverText:"Select a value",coverClass:"",enableScrollIntoView:!1,fakeOptionTemplate:function(a){return a.innerHTML}},c.el=a,c.wrapper=!1,c.cover=!1,c.list=!1,c.listItems=[],c.isExpanded=!1,c.userInteracted=!1,c.previousOptgroup=!1,c.letter="",c.autocomplete="",c.autocompleteTimer=!1,c.init=function(a){c.getSettings(a),c.setElements(),c.setEvents()},c.setElements=function(){c.el.setAttribute("tabindex","-1"),c.setElWrapper(),c.setElCover(),c.setElList(),c.el.parentNode.appendChild(c.wrapper),c.wrapper.appendChild(c.el)},c.setElWrapper=function(){c.wrapper=document.createElement("div"),c.wrapper.setAttribute("role","combobox"),c.wrapper.className="fakeselect-wrapper "+c.settings.coverClass,c.setVisibility(!1)},c.setElCover=function(){c.cover=document.createElement("button"),c.cover.className="fakeselect-cover",c.setCoverValue(!0),c.wrapper.appendChild(c.cover)},c.setElList=function(){var a;c.list=document.createElement("ul"),c.list.className="fakeselect-list",c.list.setAttribute("role","listbox");for(var b=0,d=c.el.options.length;b<d;b++)c.listItems[b]=document.createElement("li"),c.listItems[b].setAttribute("data-i",b),c.listItems[b].setAttribute("role","option"),a=c.el.options[b].parentNode,"OPTGROUP"==a.tagName&&(c.listItems[b].setAttribute("data-optgroup",1),c.setOptgroup(a)),c.el.options[b].disabled&&c.listItems[b].setAttribute("data-disabled",1),c.listItems[b].innerHTML=c.settings.fakeOptionTemplate(c.el.options[b]),c.list.appendChild(c.listItems[b]);c.wrapper.appendChild(c.list)},c.setOptgroup=function(a){var b,d;a!=c.previousOptgroup&&(c.previousOptgroup=a,b=a.getAttribute("label")||"&nbsp;",d=document.createElement("li"),d.innerHTML=b,d.className="optgroup-label",c.list.appendChild(d))},c.setEvents=function(){c.setCurrentValue(0,!1);for(var a=0,b=c.listItems.length;a<b;a++)1!=c.listItems[a].getAttribute("data-disabled")&&c.listItems[a].addEventListener("click",c.setCurrentValueEvent);c.cover.addEventListener("click",function(a){a.preventDefault(),c.setVisibility()},1),c.el.addEventListener("change",c.setCoverValue,1),c.el.addEventListener("initcover",c.setCoverValue,1),window.addEventListener("click",c.clickOutside,1),window.addEventListener("keydown",c.keyboardEvents,1)},c.keyboardEvents=function(a){27==a.keyCode&&(c.clearAutocomplete(),c.setVisibility(!1)),c.isExpanded&&(9==a.keyCode&&c.setVisibility(!1),38==a.keyCode&&(a.preventDefault(),c.setActiveListItem("less")),40==a.keyCode&&(a.preventDefault(),c.setActiveListItem("plus")),13==a.keyCode&&(a.preventDefault(),c.setCurrentValue(c.tmpValue,!0),c.setVisibility(!1))),!c.isExpanded&&c.isFocused()&&(38!=a.keyCode&&40!=a.keyCode||(a.preventDefault(),c.setVisibility(!0))),c.isFocused()&&(c.letter=String.fromCharCode(event.keyCode).toLowerCase(),/[a-z0-9-_ ]/.test(c.letter)&&(clearTimeout(c.autocompleteTimer),c.autocomplete+=c.letter,c.setActiveAutocompleteMatch(c.autocomplete),c.autocompleteTimer=setTimeout(c.clearAutocomplete,1e3)))},c.setActiveAutocompleteMatch=function(a){a=a||"";var b,d,e=a.length,f=c.el.options.length;for(b=0;b<f;b++)if(d=c.removeAccents(c.el.options[b].innerHTML).toLowerCase(),!c.el.options[b].disabled){if(d.substring(0,e)==a){c.setCurrentValue(b);break}if(c.settings.autocompleteInsideTerm&&d.search(a)>-1){c.setCurrentValue(b);break}}},c.clearAutocomplete=function(){clearTimeout(c.autocompleteTimer),c.letter="",c.autocomplete=""},c.isFocused=function(){return document.activeElement==c.cover},c.clickOutside=function(a){c.wrapper.contains(a.target)||c.setVisibility(!1)},c.setCurrentValueEvent=function(){c.setCurrentValue(parseInt(this.getAttribute("data-i"),10))},c.setCurrentValue=function(a,b){if(b="boolean"!=typeof b||b,c.el.selectedIndex=a,c.setVisibility(!1),b){var d=document.createEvent("HTMLEvents");d.initEvent("change",!0,!1),c.el.dispatchEvent(d)}c.setActiveListItem(a)},c.setCoverValue=function(a){var b,d=c.settings.coverText;if(!c.cover)return!1;if("boolean"!=typeof a&&(a=!1),a)for(var e=0,f=c.el.options.length;e<f;e++)b=c.el.options[e].getAttribute("selected"),"string"==typeof b&&(d=c.el.options[e].innerHTML);else"number"==typeof c.el.selectedIndex&&(d=c.el.options[c.el.selectedIndex].innerHTML);c.cover.innerHTML=d},c.setVisibility=function(a){"boolean"!=typeof a&&(a=!c.isExpanded),c.isExpanded=a,c.wrapper.setAttribute("aria-expanded",c.isExpanded),c.tmpValue=c.el.selectedIndex,a===!0&&(c.userInteracted=!0),a===!1&&c.userInteracted&&c.setCoverValue()},c.setActiveListItem=function(a){var b=c.listItems.length,d=a;if("plus"==a&&(a=c.tmpValue+1),"less"==a&&(a=c.tmpValue-1),"number"!=typeof a&&(a=c.tmpValue),a=Math.max(0,a),a=Math.min(b-1,a),c.el.options[a].disabled)return"plus"==d&&a<b&&c.setActiveListItem(a+1),"less"==d&&a>0&&c.setActiveListItem(a-1),!1;c.tmpValue=a;for(var e=0;e<b;e++)c.listItems[e].setAttribute("data-current",0);c.listItems[a].setAttribute("data-current",1),c.settings.enableScrollIntoView&&c.listItems[a].scrollIntoView&&c.listItems[a].scrollIntoView()},c.destroyCalls=function(){var a=c.wrapper.parentNode;c.el.removeAttribute("tabindex"),a.appendChild(c.el),c.el.removeEventListener("change",c.setCoverValue),c.el.removeEventListener("initcover",c.initCoverValue),window.removeEventListener("click",c.clickOutside),window.removeEventListener("keydown",c.keyboardEvents),a.removeChild(c.wrapper)},c.init(b),c};vanillaFakeSelect.prototype.removeAccents=function(a){"use strict";for(var b,c="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",d="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz",e=a.split(""),f=0,g=e.length;f<g;f++)b=c.indexOf(e[f]),b>=0&&(a=a.replace(c[b],d[b]));return a},vanillaFakeSelect.prototype.getSettings=function(a){"use strict";var b;"object"!=typeof a&&(a={}),function(){"loadElement"in a&&a.loadElement.getAttribute("data-settings")&&(b=JSON.parse(a.loadElement.getAttribute("data-settings")),"object"==typeof b&&(b.el=a.loadElement,a=b))}(),this.settings={};for(var c in this.defaultSettings)this.settings[c]=this.defaultSettings[c];for(var d in a)this.settings[d]=a[d]};